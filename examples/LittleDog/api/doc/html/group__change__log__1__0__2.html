<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LittleDog API: Changes For 1.0.2</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>Changes For 1.0.2<br>
<small>
[<a class="el" href="group__ld__historic__changes.html">LittleDog Historic Changes</a>]</small>
</h1><h2><a class="anchor" name="change_log">
Changes</a></h2>
This section describes all API and user-visible changes between <a class="el" href="classLittleDog.html">LittleDog</a> release 1.0.1 and <a class="el" href="classLittleDog.html">LittleDog</a> release 1.0.2.<h3><a class="anchor" name="little_dog">
LittleDog</a></h3>
<ul>
<li>Increased the <a class="el" href="classLittleDog.html">LittleDog</a> software version number to 1.0.2</li><li>Added the function getMocapDataReceived(). See class documentation.</li><li>Added error code LD_ROBOT_STOP_IS_BROKEN. This error can now be returned from the calibrate() method. If you get this error code, your robot needs to be sent back to Boston Dynamics for repair. This error is detected when a HIP_RY rotates &gt;= 360 degrees during calibration, indicating that a rotational "stop" is broken.</li><li>Added an optional flag to calibrate() that dictates the final posture of calibration (either a stand posture or a crawl posture). Calibration now ends in a "crawl" position by default. One can change the second argument to calibrate() to end standing.</li><li>The auto-generated log files now have different names. The order of the "performer" name and "timestamp" were swapped.</li><li>A host timestamp has been added to the mocap info structure. This indicates the time on the Linux host machine when the data packet from the Vicon system is received.</li></ul>
<h3><a class="anchor" name="ref_gui_view">
OverheadViewWidget</a></h3>
Several convenience functions have been added.<p>
<ul>
<li>Methods get_goal(), get_goal_reached(), get_distance_to_goal(), get_position(), get_start_position(), and set_start_position() were added. See class documentation. Most of these functions are used internally for generate_trial_summary().</li></ul>
<h3><a class="anchor" name="calib_thread">
LittleDogCalibrateThread</a></h3>
<ul>
<li>Added an argument (LittleDogUI) to the constructor of this class. When LittieDogTrialThread::run() is called, calibrate() is invoked. After calibrate() returns, run() now logs the error return code to the system window, if it is not LD_OKAY.</li></ul>
<h3><a class="anchor" name="trial_thread">
LittleDogTrialThread</a></h3>
<ul>
<li>Added an argument (LittleDogUI) to the constructor of this class. When LittieDogTrialThread::run() is called, runTrial() is invoked. After runTrial() returns, method ui-&gt;generate_trial_summary() is is now called to generate a trial summary. See LittleDogUI below.</li></ul>
<h3><a class="anchor" name="ref_gui_ui">
LittleDogUI</a></h3>
<ul>
<li>Relocated the "Shutdown and Quit" button near the others.</li><li>Added a "Receiving Mocap Data" checkbox showing the status of motion capture sampling during the last second. This indicator is only enabled when mocap is initialized.</li><li>Added a checkbox to indicate when the goal is reached in a trial. This indicator is only enabled when mocap is initialized and the robot is connected.</li><li>Added a "Trial Elapsed time" LCD that shows how long a trial has been running, in seconds.</li><li>Added an "Idle Elapsed time" LCD that shows how long the application has been connected to the robot without doing any work.</li><li>Added a "Distance to Goal" LCD that shows how far away, in cm, the robot is from the goal position, in cm. This indicator is only enabled when mocap is initialized and the robot is connected.</li><li>slot_update_overhead_view() now updates the distance to the goal LCD and draws the goal location as a 5 cm diameter circle. The circle is originally drawn in color red, but if the goal is reached, the color changes to green. "Reaching the goal" means that the origin of the robot's body falls within the goal circle. The goal will be defined in a file $LITTLEDOG/test/goal.txt, which contains two coordinates (x and y) separated by a tab, in units of meters.</li><li>Changed the font type to "Courier New" in the system log window.</li><li>Function generate_trial_summary() has been added to LittleDogUI. This method prints out useful information to the system log window for trials that are run when mocap is enabled and goal data is found. This function is now called by LittleDogTrialThread::run().</li><li>In method slot_clicked_run_trial(), a call to OverheadViewWidget::set_start_position() is now made. This is needed to initialize data used in generate_trial_summary().</li><li>Added virtual method goal_reached(), which is called repeatedly while the robot is in the goal cylinder. Uses can override this virtual function and use it to alter the behavior of their <a class="el" href="classLittleDog.html">LittleDog</a> when the goal is reached, for example, if desirable.</li></ul>
<h3><a class="anchor" name="walk_example">
KinematicWalker example</a></h3>
<ul>
<li>Added a call to LittleDogUI::slot_update_overhead_view() in local virtual function MyLittleDogUI::slot_update_overhead_view(). This allows reuse of the base class slot logic.</li><li>Added a signal handler to main.cpp to handle the case of a user pressing ^C in the Linux command window. This has also been added to the minimum_ui_example (see below).</li><li>In MyLittleDogUI.h, virtual function goal_reached() has been added. It currently does nothing and is there as a reminder only. See LittleDogUI changes above for details about this method.</li></ul>
<h3><a class="anchor" name="minimum_ui_example">
minimum_ui_example</a></h3>
<ul>
<li>Added a signal handler to main.cpp to handle the case of a user pressing ^C in the Linux command window. Uses are encouraged to incorporate these changes in their executables if they launch them from a command prompt (instead of, say, via double-clicking an icon). </li></ul>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Dec 31 14:18:26 2008 for LittleDog API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
